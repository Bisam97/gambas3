' Gambas class file

Export
Inherits DBusVariant

Public Const Signature As String = "a(iiay)"

Public Sub _new(hPict As Picture)

  Dim hImage As Image
  
  If Not hPict Then
    Me.Value = []
    'Me.Value = [[64, 64, Byte[].FromString(File.Load("default.bin"))]]
  Else
    hImage = hPict.Image
    hImage.Format = "ARGB"
    Me.Value = [[hImage.W, hImage.H, Byte[].FromString(String@(hImage.Data, hImage.W * hImage.H * SizeOf(gb.Integer)))]]
  Endif
  
End

