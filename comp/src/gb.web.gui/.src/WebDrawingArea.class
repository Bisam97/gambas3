' Gambas class file

Export
Inherits WebControl

Public Const _Properties As String = "*,Border"
Public Const _DrawWith As String = "DrawingArea"
Public Const _DefaultEvent As String = "Draw"

Public _Width As Integer
Public _Height As Integer

Event Draw
' Event MouseDown
' Event MouseMove
' Event MouseUp

Public Sub _new()
  
  Me.Border = False
  
End


Public Sub _Render()
  
  Print "<canvas id=\""; Html(Me.Name & ":canvas"); "\"></canvas>";
  WebForm._AddJavascript("gw.paint.init(" & JS(Me.Name) & ");")
  
End

Public Sub _UpdateProperty(sProp As String, vValue As Variant)

  If sProp = "#" Then
    _Width = vValue[0]
    _Height = vValue[1]
    Paint.Begin(Me)
    Raise Draw
    Paint.End
  Endif
  
End
